import{j as we,l as ke,h as xe,a as Se,b as $e,f as Le,d as Pe,c as Ee,E as he,i as Ce,e as Ne,g as Me,k as je,m as Ae,r as Te,n as De,o as Be,p as ee,q as We,s as He,t as Ie,u as Oe,v as Ke,w as Fe,x as Ge,y as Ve,z as qe,A as be,B as Re,C as Je,D as b,F as V,G as Ue,_ as ze,H as Qe,I as te,J as Y,S as q,K as R,L as J,M as p,N as w,O as _,P as f,Q as h,R as d,T as O,U as P,V as N,W as G,X as Xe,Y as ye,Z as j,$ as A,a0 as T,a1 as D,a2 as B,a3 as Ye,a4 as Ze,a5 as ne,a6 as $,a7 as et,a8 as tt,a9 as nt,aa as rt,ab as ot,ac as it,ad as U,ae as lt,af as I,ag as Z,ah as st,ai as at,aj as re}from"./vendor.9d90f90c.js";const ct=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}};ct();const ut=["PropertyName",".","?."],ft=["TemplateString","LineComment","BlockComment","VariableDefinition","PropertyDefinition"];function z(r,t){let e=[];for(let o in t)e.push({label:o,type:typeof t[o]=="function"?"function":"variable"});return{from:r,options:e,span:/^[\w$]*$/}}function dt(r){var e;let t=Je(r.state).resolveInner(r.pos,-1);if(ut.includes(t.name)&&((e=t.parent)==null?void 0:e.name)=="MemberExpression"){let o=t.parent.getChild("Expression");if((o==null?void 0:o.name)=="VariableName"){let n=/\./.test(t.name)?t.to:t.from,i=r.state.sliceDoc(o.from,o.to);if(typeof window[i]=="object")return z(n,window[i])}}else{if(t.name=="VariableName")return z(t.from,window);if(r.explicit&&!ft.includes(t.name))return z(r.pos,window)}return null}const pt=we.data.of({autocomplete:dt}),mt=[ke(),xe(),Se(),$e(),Le(),Pe(),Ee(),he.allowMultipleSelections.of(!0),Ce(),Ne.fallback,Me(),je(),Ae(),Te(),De(),Be(),ee.of([...We,...He,...Ie,...Oe,...Ke,...Fe,...Ge,...Ve]),qe({jsx:!1,typescript:!0}),pt,be.lineWrapping,ee.of([Re])],gt=r=>!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function";function W(r){return typeof r.content=="string"?[{content:r.content,color:r.color}]:r.content.map(t=>typeof t.content=="string"?t:t.content.map(e=>W(e)).flat()).flat()}function K(r){return Array.isArray(r)?{content:[{content:"(",color:"#807b7a"},{content:r.length.toString(),color:"#368aa3"},{content:") ",color:"#807b7a"},{content:"[",color:"#807b7a"},...r.map((t,e)=>e+1==r.length?K(t):[K(t),{content:", ",color:"#807b7a"}]).flat(),{content:"]",color:"#807b7a"}]}:gt(r)?{content:"Promise",color:"#807b7a"}:r===!0?{content:"true",color:"#1f924a"}:r===!1?{content:"false",color:"#f55442"}:typeof r=="number"?{content:r.toString(),color:"#368aa3"}:typeof r=="object"?{content:JSON.stringify(r),color:"#807b7a"}:typeof r=="string"?{content:`"${r}"`,color:"#9c8e1f"}:typeof r=="symbol"?{content:[{content:"Symbol(",color:"#807b7a"},K(r.description),{content:")",color:"#807b7a"}]}:typeof r=="bigint"?{content:`${r}n`,color:"#368aa3"}:r===void 0?{content:"undefined",color:"#807b7a"}:r===null?{content:"null",color:"#807b7a"}:{content:r.toString(),color:"#807b7a"}}function _t(){return{MemberExpression(r){!r.node.object||!r.node.property||r.node.object.name=="console"&&r.node.property.name=="log"&&(r.parentPath.node.arguments=[b.identifier(r.node.loc.start.line.toString()),...r.parentPath.node.arguments],r.replaceWith(b.identifier("debug")))}}}const H=V(!0);function ht(){function r(e){if(e.parentPath.node.type!=="VariableDeclarator"||e.parentPath.parentPath.parentPath.node.type!=="Program")return;const o=e.parentPath.node.id.name;e.parentPath.parentPath.insertAfter(b.callExpression(b.identifier("debug"),[b.identifier(e.node.loc.start.line.toString()),b.identifier(o)]))}function t(e,o){var n,i,l,s,u,k;o==null&&(o=e.node),e.parentPath.node.type=="ExpressionStatement"&&((n=e.node.callee)==null?void 0:n.identifier)!="debug"&&(Ue(H)&&(((l=(i=e.parentPath.parentPath)==null?void 0:i.node)==null?void 0:l.type)=="WhileStatement"||((u=(s=e.parentPath.parentPath)==null?void 0:s.node)==null?void 0:u.type)=="ForStatement")||((k=e.node.loc)==null?void 0:k.start)!=null&&e.replaceWith(b.callExpression(b.identifier("debug"),[b.numericLiteral(e.node.loc.start.line),o])))}return{BinaryExpression(e){t(e),r(e)},UnaryExpression(e){t(e),r(e)},CallExpression(e){e.node.callee.object&&e.node.callee.object.name=="console"||(t(e),r(e))},AwaitExpression(e){t(e),r(e)},NewExpression(e){t(e),r(e)},DirectiveLiteral(e){var o,n,i;!((o=e.node)==null?void 0:o.value)||!((i=(n=e.node.loc)==null?void 0:n.start)==null?void 0:i.line)||e.parentPath.replaceWith(b.callExpression(b.identifier("debug"),[b.numericLiteral(e.node.loc.start.line),b.stringLiteral(e.node.value)]))},AssignmentExpression(e){var o;((o=e.node.loc)==null?void 0:o.start)!=null&&e.insertAfter(b.callExpression(b.identifier("debug"),[b.numericLiteral(e.node.loc.start.line),b.identifier(e.node.left.name)]))},Identifier(e){t(e),r(e)},ArrayExpression(e){t(e),r(e)},MemberExpression(e){t(e),r(e)},ObjectExpression(e){t(e),r(e)},TaggedTemplateExpression(e){var o;e.parentPath.node.type=="ExpressionStatement"&&((o=e.node.loc)==null?void 0:o.start)!=null&&(e.parentPath.insertAfter(b.callExpression(b.identifier("debug"),[b.numericLiteral(e.node.loc.start.line),b.identifier(e.toString())])),e.remove())},UpdateExpression(e){t(e),r(e)},Literal(e){e.type!="TemplateLiteral"&&(t(e),r(e))}}}const bt=Object.getPrototypeOf(async()=>{}).constructor;function yt(r){const t=Qe(r);return te(t,ht()),te(t,_t()),ze(t).code}async function vt(r){if(r=="")return[];try{let t=[];return await bt("debug",r)((n,i)=>{t=[...t,{lineNumber:n,content:i}]}),t.length==0?[]:t.map(n=>({lineNumber:n.lineNumber,content:K(n.content)}))}catch(t){return t}}const Q=V(window.innerWidth/2),wt=Y(Q,r=>Math.max(0,Math.min(window.innerWidth-6,r))),F=V(!1),X=V(`// Welcome to JSNow!

5 + 5 // Unused expressions are outputted to the right

Array(5).fill(4).map(it => it * 2) // *any* unused expression

function reverse(param: string /* no type checking is done yet */) {
	return param.split("").reverse().join("")
}

reverse("Hello World!")

// Try it out! Stay with the examples here or CTRL + A and delete.

`),ve=Y(X,r=>{if(!r)return"";try{return yt(r)}catch(t){return t}}),kt=Y([ve,H,F],async([r])=>r?r instanceof Error?r:await vt(r):[]);function oe(r){let t,e,o,n,i;return{c(){t=p("div"),e=p("h1"),e.textContent="Transformed Code",o=w(),n=p("pre"),i=p("code"),_(e,"class","text-2xl"),_(i,"class","language-js"),_(t,"id","code"),_(t,"class","w-1/2")},m(l,s){f(l,t,s),h(t,e),h(t,o),h(t,n),h(n,i),i.innerHTML=r[0]},p(l,s){s&1&&(i.innerHTML=l[0])},d(l){l&&d(t)}}}function xt(r){let t,e,o,n,i,l,s,u,k,m=r[0]&&oe(r);return{c(){t=p("div"),e=p("div"),o=p("h1"),o.textContent="Settings",n=w(),i=p("span"),i.textContent="Display line by line input ",l=p("input"),s=w(),m&&m.c(),_(o,"class","text-2xl"),_(l,"type","checkbox"),_(l,"name","lineByLine"),_(e,"id","settings"),_(e,"class","w-1/2"),_(t,"class","flex flex-row w-full")},m(y,v){f(y,t,v),h(t,e),h(e,o),h(e,n),h(e,i),h(e,l),l.checked=r[1],h(t,s),m&&m.m(t,null),u||(k=O(l,"change",r[3]),u=!0)},p(y,[v]){v&2&&(l.checked=y[1]),y[0]?m?m.p(y,v):(m=oe(y),m.c(),m.m(t,null)):m&&(m.d(1),m=null)},i:P,o:P,d(y){y&&d(t),m&&m.d(),u=!1,k()}}}function St(r,t,e){let o,n,i;N(r,ve,u=>e(2,n=u)),N(r,H,u=>e(1,i=u));function l(u){if(!u)return"";try{return G.highlight(n,G.languages.javascript)}catch{return""}}function s(){i=this.checked,H.set(i)}return r.$$.update=()=>{r.$$.dirty&4&&e(0,o=l(n))},[o,i,n,s]}class $t extends q{constructor(t){super();R(this,t,St,xt,J,{})}}function Lt(r){let t,e,o,n,i,l,s,u,k=r[0]("5 + 5 // outputs 10 to the side")+"",m,y,v,E,C=r[0]("const x = 15 / 5 // outputs 3 to the side")+"",x,L,M,c,g;return n=new Xe({props:{class:"pl-4 inline"}}),{c(){t=p("h1"),e=ye("Welcome to JSNow!"),o=p("a"),j(n.$$.fragment),i=w(),l=p("p"),l.textContent="Any unused expressions or variable assignments will be printed to the side.",s=w(),u=p("code"),m=w(),y=p("br"),v=w(),E=p("code"),x=w(),L=p("h2"),L.textContent="Planned Features",M=w(),c=p("ul"),c.innerHTML=`<li>- Tabs</li> 
	<li>- Fancy Output (range, toggle buttons)</li> 
	<li>- Interactive input (sliders, radio)</li> 
	<li>- Github Gist intergration</li>`,_(o,"href","https://github.com/LeoDog896/jsnow"),_(t,"class","text-3xl"),_(L,"class","text-xl")},m(a,S){f(a,t,S),h(t,e),h(t,o),A(n,o,null),f(a,i,S),f(a,l,S),f(a,s,S),f(a,u,S),u.innerHTML=k,f(a,m,S),f(a,y,S),f(a,v,S),f(a,E,S),E.innerHTML=C,f(a,x,S),f(a,L,S),f(a,M,S),f(a,c,S),g=!0},p:P,i(a){g||(T(n.$$.fragment,a),g=!0)},o(a){D(n.$$.fragment,a),g=!1},d(a){a&&d(t),B(n),a&&d(i),a&&d(l),a&&d(s),a&&d(u),a&&d(m),a&&d(y),a&&d(v),a&&d(E),a&&d(x),a&&d(L),a&&d(M),a&&d(c)}}}function Pt(r){function t(e){if(!e)return"";try{return G.highlight(e,G.languages.javascript)}catch{return""}}return[t]}class Et extends q{constructor(t){super();R(this,t,Pt,Lt,J,{})}}const{document:ie}=it;function le(r,t,e){const o=r.slice();return o[19]=t[e],o}function se(r,t,e){const o=r.slice();return o[22]=t[e],o}function ae(r,t,e){const o=r.slice();return o[19]=t[e],o}function ce(r,t,e){const o=r.slice();return o[22]=t[e],o}function ue(r,t,e){const o=r.slice();return o[16]=t[e],o}function Ct(r){return{c:P,m:P,p:P,d:P}}function Nt(r){let t;function e(i,l){return i[15]instanceof Error?At:i[5]?jt:Mt}let o=e(r),n=o(r);return{c(){t=p("p"),n.c(),_(t,"class","px-1 w-full text-[1rem] leading-[1.4058rem]")},m(i,l){f(i,t,l),n.m(t,null)},p(i,l){o===(o=e(i))&&n?n.p(i,l):(n.d(1),n=o(i),n&&(n.c(),n.m(t,null)))},d(i){i&&d(t),n.d()}}}function Mt(r){let t,e=r[15],o=[];for(let n=0;n<e.length;n+=1)o[n]=de(le(r,e,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();t=Z()},m(n,i){for(let l=0;l<o.length;l+=1)o[l].m(n,i);f(n,t,i)},p(n,i){if(i&16){e=n[15];let l;for(l=0;l<e.length;l+=1){const s=le(n,e,l);o[l]?o[l].p(s,i):(o[l]=de(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=e.length}},d(n){I(o,n),n&&d(t)}}}function jt(r){let t,e=r[15].sort(_e),o=[];for(let n=0;n<e.length;n+=1)o[n]=me(ae(r,e,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();t=Z()},m(n,i){for(let l=0;l<o.length;l+=1)o[l].m(n,i);f(n,t,i)},p(n,i){if(i&16){e=n[15].sort(_e);let l;for(l=0;l<e.length;l+=1){const s=ae(n,e,l);o[l]?o[l].p(s,i):(o[l]=me(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=e.length}},d(n){I(o,n),n&&d(t)}}}function At(r){let t,e=r[15].toString().split(`
`),o=[];for(let n=0;n<e.length;n+=1)o[n]=ge(ue(r,e,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();t=Z()},m(n,i){for(let l=0;l<o.length;l+=1)o[l].m(n,i);f(n,t,i)},p(n,i){if(i&16){e=n[15].toString().split(`
`);let l;for(l=0;l<e.length;l+=1){const s=ue(n,e,l);o[l]?o[l].p(s,i):(o[l]=ge(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=e.length}},d(n){I(o,n),n&&d(t)}}}function fe(r){let t,e=r[22].content+"";return{c(){t=p("span"),$(t,"color",r[22].color)},m(o,n){f(o,t,n),t.innerHTML=e},p(o,n){n&16&&e!==(e=o[22].content+"")&&(t.innerHTML=e),n&16&&$(t,"color",o[22].color)},d(o){o&&d(t)}}}function de(r){let t,e,o=W(r[19].content),n=[];for(let i=0;i<o.length;i+=1)n[i]=fe(se(r,o,i));return{c(){t=p("p");for(let i=0;i<n.length;i+=1)n[i].c();e=w()},m(i,l){f(i,t,l);for(let s=0;s<n.length;s+=1)n[s].m(t,null);h(t,e)},p(i,l){if(l&16){o=W(i[19].content);let s;for(s=0;s<o.length;s+=1){const u=se(i,o,s);n[s]?n[s].p(u,l):(n[s]=fe(u),n[s].c(),n[s].m(t,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(i){i&&d(t),I(n,i)}}}function pe(r){let t,e=r[22].content+"";return{c(){t=p("span"),$(t,"color",r[22].color)},m(o,n){f(o,t,n),t.innerHTML=e},p(o,n){n&16&&e!==(e=o[22].content+"")&&(t.innerHTML=e),n&16&&$(t,"color",o[22].color)},d(o){o&&d(t)}}}function me(r){let t,e,o=W(r[19].content),n=[];for(let i=0;i<o.length;i+=1)n[i]=pe(ce(r,o,i));return{c(){t=p("p");for(let i=0;i<n.length;i+=1)n[i].c();e=w(),_(t,"class","absolute"),$(t,"top",document.querySelector(".cm-content").children[r[19].lineNumber-1].getBoundingClientRect().y+"px")},m(i,l){f(i,t,l);for(let s=0;s<n.length;s+=1)n[s].m(t,null);h(t,e)},p(i,l){if(l&16){o=W(i[19].content);let s;for(s=0;s<o.length;s+=1){const u=ce(i,o,s);n[s]?n[s].p(u,l):(n[s]=pe(u),n[s].c(),n[s].m(t,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}l&16&&$(t,"top",document.querySelector(".cm-content").children[i[19].lineNumber-1].getBoundingClientRect().y+"px")},d(i){i&&d(t),I(n,i)}}}function ge(r){let t,e=r[16]+"",o;return{c(){t=p("p"),o=ye(e),_(t,"class","text-red-700")},m(n,i){f(n,t,i),h(t,o)},p(n,i){i&16&&e!==(e=n[16]+"")&&st(o,e)},d(n){n&&d(t)}}}function Tt(r){return{c:P,m:P,p:P,d:P}}function Dt(r){let t,e,o,n,i,l,s,u,k,m,y,v,E,C,x,L,M;e=new Ye({props:{alt:"Settings",class:"scale-125 hover:rotate-12 transition-transform fixed bottom-5 right-5"}}),e.$on("click",r[9]),n=new Ze({props:{alt:"Info",class:"scale-125 hover:rotate-12 transition-transform fixed bottom-5 right-[60px]"}}),n.$on("click",r[10]);let c={ctx:r,current:null,token:null,hasCatch:!1,pending:Tt,then:Nt,catch:Ct,value:15};return ne(C=r[4],c),{c(){t=w(),j(e.$$.fragment),o=w(),j(n.$$.fragment),i=w(),l=p("div"),s=p("div"),u=p("div"),k=w(),m=p("div"),y=w(),v=p("div"),E=w(),c.block.c(),_(u,"class","grow outline-none"),_(u,"data-gramm","false"),_(u,"data-gramm_editor","false"),_(u,"data-enable-grammarly","false"),_(u,"spellcheck","false"),_(m,"class","absolute translate-x-[-50%] w-[2px] cursor-col-resize h-screen bg-grey border-2"),$(m,"left",r[3]+"px"),_(v,"class","absolute px-2 w-[2px] translate-x-[-50%] cursor-col-resize h-screen bg-transparent"),$(v,"left",r[3]+"px"),_(s,"class","flex"),$(l,"grid-template-columns",r[3]+"px "+(window.innerWidth-r[3])+"px"),_(l,"class","gap-0 grid grid-rows-1 grid-cols-2")},m(g,a){f(g,t,a),A(e,g,a),f(g,o,a),A(n,g,a),f(g,i,a),f(g,l,a),h(l,s),h(s,u),r[11](u),h(s,k),h(s,m),h(s,y),h(s,v),h(l,E),c.block.m(l,c.anchor=null),c.mount=()=>l,c.anchor=null,x=!0,L||(M=[O(ie.body,"mousemove",r[7]),O(ie.body,"mouseup",r[8]),O(v,"mousedown",r[12])],L=!0)},p(g,[a]){r=g,(!x||a&8)&&$(m,"left",r[3]+"px"),(!x||a&8)&&$(v,"left",r[3]+"px"),c.ctx=r,a&16&&C!==(C=r[4])&&ne(C,c)||et(c,r,a),(!x||a&8)&&$(l,"grid-template-columns",r[3]+"px "+(window.innerWidth-r[3])+"px")},i(g){x||(T(e.$$.fragment,g),T(n.$$.fragment,g),x=!0)},o(g){D(e.$$.fragment,g),D(n.$$.fragment,g),x=!1},d(g){g&&d(t),B(e,g),g&&d(o),B(n,g),g&&d(i),g&&d(l),r[11](null),c.block.d(),c.token=null,c=null,L=!1,tt(M)}}}const _e=(r,t)=>r.lineNumber-t.lineNumber;function Bt(r,t,e){let o,n,i,l,s,u;N(r,X,c=>e(13,o=c)),N(r,F,c=>e(1,n=c)),N(r,Q,c=>e(2,i=c)),N(r,wt,c=>e(3,l=c)),N(r,kt,c=>e(4,s=c)),N(r,H,c=>e(5,u=c));const{open:k}=nt("simple-modal"),m=rt.fromClass(class{constructor(){}update(c){c.docChanged&&X.set(c.state.doc.toString())}});let y;ot(()=>new be({state:he.create({doc:o,extensions:[mt,m]}),parent:y}));const v=c=>{n&&U(Q,i=c.clientX,i)},E=c=>{U(F,n=!1,n)},C=()=>k($t),x=()=>k(Et);function L(c){lt[c?"unshift":"push"](()=>{y=c,e(0,y)})}return[y,n,i,l,s,u,k,v,E,C,x,L,()=>{U(F,n=!0,n)}]}class Wt extends q{constructor(t){super();R(this,t,Bt,Dt,J,{})}}function Ht(r){let t,e;return t=new Wt({}),{c(){j(t.$$.fragment)},m(o,n){A(t,o,n),e=!0},i(o){e||(T(t.$$.fragment,o),e=!0)},o(o){D(t.$$.fragment,o),e=!1},d(o){B(t,o)}}}function It(r){let t,e;return t=new at({props:{transitionBg:r[0],transitionWindow:r[1],$$slots:{default:[Ht]},$$scope:{ctx:r}}}),{c(){j(t.$$.fragment)},m(o,n){A(t,o,n),e=!0},p(o,[n]){const i={};n&4&&(i.$$scope={dirty:n,ctx:o}),t.$set(i)},i(o){e||(T(t.$$.fragment,o),e=!0)},o(o){D(t.$$.fragment,o),e=!1},d(o){B(t,o)}}}function Ot(r){return[o=>re(o,{duration:150}),o=>re(o,{duration:150})]}class Kt extends q{constructor(t){super();R(this,t,Ot,It,J,{})}}new Kt({target:document.body});
