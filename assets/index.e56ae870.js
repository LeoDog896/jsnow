import{j as ve,l as we,h as xe,a as ke,b as $e,f as Se,d as Pe,c as Le,E as pe,i as Ee,e as Ce,g as Ne,k as Me,m as Ae,r as je,n as Be,o as Te,p as Q,q as Oe,s as De,t as Ie,u as We,v as He,w as Fe,x as Ke,y as Ge,z as Ve,A as me,B as qe,C as Re,D as G,F as ze,G as ge,H as _e,S as V,I as q,J as R,K as p,L as w,M as _,N as f,O as b,P as d,Q as W,R as P,T as N,U as K,V as Je,W as be,X as M,Y as A,Z as j,_ as B,$ as T,a0 as Ue,a1 as Qe,a2 as X,a3 as S,a4 as Xe,a5 as Ye,a6 as Ze,a7 as et,a8 as tt,a9 as nt,aa as z,ab as rt,ac as I,ad as U,ae as ot,af as it,ag as Y}from"./vendor.8122743d.js";const lt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}};lt();const st=["PropertyName",".","?."],at=["TemplateString","LineComment","BlockComment","VariableDefinition","PropertyDefinition"];function J(r,n){let o=[];for(let e in n)o.push({label:e,type:typeof n[e]=="function"?"function":"variable"});return{from:r,options:o,span:/^[\w$]*$/}}function ct(r){var o;let n=Re(r.state).resolveInner(r.pos,-1);if(st.includes(n.name)&&((o=n.parent)==null?void 0:o.name)=="MemberExpression"){let e=n.parent.getChild("Expression");if((e==null?void 0:e.name)=="VariableName"){let t=/\./.test(n.name)?n.to:n.from,i=r.state.sliceDoc(e.from,e.to);if(typeof window[i]=="object")return J(t,window[i])}}else{if(n.name=="VariableName")return J(n.from,window);if(r.explicit&&!at.includes(n.name))return J(r.pos,window)}return null}const ut=ve.data.of({autocomplete:ct}),ft=[we(),xe(),ke(),$e(),Se(),Pe(),Le(),pe.allowMultipleSelections.of(!0),Ee(),Ce.fallback,Ne(),Me(),Ae(),je(),Be(),Te(),Q.of([...Oe,...De,...Ie,...We,...He,...Fe,...Ke,...Ge]),Ve({jsx:!1,typescript:!0}),ut,me.lineWrapping,Q.of([qe])],dt=r=>!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function";function O(r){return typeof r.content=="string"?[{content:r.content,color:r.color}]:r.content.map(n=>typeof n.content=="string"?n:n.content.map(o=>O(o)).flat()).flat()}function H(r){return Array.isArray(r)?{content:[{content:"(",color:"#807b7a"},{content:r.length.toString(),color:"#368aa3"},{content:") ",color:"#807b7a"},{content:"[",color:"#807b7a"},...r.map((n,o)=>o+1==r.length?H(n):[H(n),{content:", ",color:"#807b7a"}]).flat(),{content:"]",color:"#807b7a"}]}:dt(r)?{content:"Promise",color:"#807b7a"}:r===!0?{content:"true",color:"#1f924a"}:r===!1?{content:"false",color:"#f55442"}:typeof r=="number"?{content:r.toString(),color:"#368aa3"}:typeof r=="object"?{content:JSON.stringify(r),color:"#807b7a"}:typeof r=="string"?{content:`"${r}"`,color:"#9c8e1f"}:typeof r=="symbol"?{content:[{content:"Symbol(",color:"#807b7a"},H(r.description),{content:")",color:"#807b7a"}]}:typeof r=="bigint"?{content:`${r}n`,color:"#368aa3"}:r===void 0?{content:"undefined",color:"#807b7a"}:r===null?{content:"null",color:"#807b7a"}:{content:r.toString(),color:"#807b7a"}}function pt({types:r}){return{visitor:{MemberExpression(n){!n.node.object||!n.node.property||n.node.object.name=="console"&&n.node.property.name=="log"&&(n.parentPath.node.arguments=[r.identifier(n.node.loc.start.line.toString()),...n.parentPath.node.arguments],n.replaceWith(r.identifier("debug")))}}}}const D=G(!0);function mt({types:r}){function n(e){if(e.parentPath.node.type!=="VariableDeclarator"||e.parentPath.parentPath.parentPath.node.type!=="Program")return;const t=e.parentPath.node.id.name;e.parentPath.parentPath.insertAfter(r.callExpression(r.identifier("debug"),[r.identifier(e.node.loc.start.line.toString()),r.identifier(t)]))}function o(e,t){var i,l,s,c,x,u;t==null&&(t=e.node),e.parentPath.node.type=="ExpressionStatement"&&((i=e.node.callee)==null?void 0:i.identifier)!="debug"&&(ze(D)&&(((s=(l=e.parentPath.parentPath)==null?void 0:l.node)==null?void 0:s.type)=="WhileStatement"||((x=(c=e.parentPath.parentPath)==null?void 0:c.node)==null?void 0:x.type)=="ForStatement")||((u=e.node.loc)==null?void 0:u.start)!=null&&e.replaceWith(r.callExpression(r.identifier("debug"),[r.numericLiteral(e.node.loc.start.line),t])))}return{visitor:{BinaryExpression(e){o(e),n(e)},UnaryExpression(e){o(e),n(e)},CallExpression(e){e.node.callee.object&&e.node.callee.object.name=="console"||(o(e),n(e))},AwaitExpression(e){o(e),n(e)},NewExpression(e){o(e),n(e)},DirectiveLiteral(e){var t,i,l;!((t=e.node)==null?void 0:t.value)||!((l=(i=e.node.loc)==null?void 0:i.start)==null?void 0:l.line)||e.parentPath.replaceWith(r.callExpression(r.identifier("debug"),[r.numericLiteral(e.node.loc.start.line),r.stringLiteral(e.node.value)]))},AssignmentExpression(e){var t;((t=e.node.loc)==null?void 0:t.start)!=null&&e.insertAfter(r.callExpression(r.identifier("debug"),[r.numericLiteral(e.node.loc.start.line),r.identifier(e.node.left.name)]))},Identifier(e){o(e),n(e)},ArrayExpression(e){o(e),n(e)},MemberExpression(e){o(e),n(e)},ObjectExpression(e){o(e),n(e)},TaggedTemplateExpression(e){var t;e.parentPath.node.type=="ExpressionStatement"&&((t=e.node.loc)==null?void 0:t.start)!=null&&(e.parentPath.insertAfter(r.callExpression(r.identifier("debug"),[r.numericLiteral(e.node.loc.start.line),r.identifier(e.toString())])),e.remove())},UpdateExpression(e){o(e),n(e)},Literal(e){e.type!="TemplateLiteral"&&(o(e),n(e))}}}}const gt=Object.getPrototypeOf(async()=>{}).constructor;ge.exports.registerPlugins({"stray-expression-babel":mt,"log-transform":pt});function _t(r){return ge.exports.transform(r,{filename:"index.ts",presets:["env","typescript"],parserOpts:{allowAwaitOutsideFunction:!0},plugins:["log-transform","stray-expression-babel"]}).code}async function bt(r){if(r=="")return[];try{let n=[];return await gt("debug",r)((t,i)=>{n=[...n,{lineNumber:t,content:i}]}),n.length==0?[]:n.map(t=>({lineNumber:t.lineNumber,content:H(t.content)}))}catch(n){return n}}const Z=G(window.innerWidth/2),F=G(!1),he=G(""),ye=_e(he,r=>{if(!r)return"";try{return _t(r)}catch(n){return n}}),ht=_e([ye,D,F],async([r])=>r?r instanceof Error?r:await bt(r):[]);function ee(r){let n,o,e,t,i;return{c(){n=p("div"),o=p("h1"),o.textContent="Transformed Code",e=w(),t=p("pre"),i=p("code"),_(o,"class","text-2xl"),_(i,"class","language-js"),_(n,"id","code"),_(n,"class","w-1/2")},m(l,s){f(l,n,s),b(n,o),b(n,e),b(n,t),b(t,i),i.innerHTML=r[0]},p(l,s){s&1&&(i.innerHTML=l[0])},d(l){l&&d(n)}}}function yt(r){let n,o,e,t,i,l,s,c,x,u=r[0]&&ee(r);return{c(){n=p("div"),o=p("div"),e=p("h1"),e.textContent="Settings",t=w(),i=p("span"),i.textContent="Display line by line input ",l=p("input"),s=w(),u&&u.c(),_(e,"class","text-2xl"),_(l,"type","checkbox"),_(l,"name","lineByLine"),_(o,"id","settings"),_(o,"class","w-1/2"),_(n,"class","flex flex-row w-full")},m(h,y){f(h,n,y),b(n,o),b(o,e),b(o,t),b(o,i),b(o,l),l.checked=r[1],b(n,s),u&&u.m(n,null),c||(x=W(l,"change",r[3]),c=!0)},p(h,[y]){y&2&&(l.checked=h[1]),h[0]?u?u.p(h,y):(u=ee(h),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:P,o:P,d(h){h&&d(n),u&&u.d(),c=!1,x()}}}function vt(r,n,o){let e,t,i;N(r,ye,c=>o(2,t=c)),N(r,D,c=>o(1,i=c));function l(c){if(!c)return"";try{return K.highlight(t,K.languages.javascript)}catch{return""}}function s(){i=this.checked,D.set(i)}return r.$$.update=()=>{r.$$.dirty&4&&o(0,e=l(t))},[e,i,t,s]}class wt extends V{constructor(n){super();q(this,n,vt,yt,R,{})}}function xt(r){let n,o,e,t,i,l,s,c,x=r[0]("5 + 5 // outputs 10 to the side")+"",u,h,y,L,E=r[0]("const x = 15 / 5 // outputs 3 to the side")+"",$,m,C,v,g;return t=new Je({props:{class:"pl-4 inline"}}),{c(){n=p("h1"),o=be("Welcome to JSNow!"),e=p("a"),M(t.$$.fragment),i=w(),l=p("p"),l.textContent="Any unused expressions or variable assignments will be printed to the side.",s=w(),c=p("code"),u=w(),h=p("br"),y=w(),L=p("code"),$=w(),m=p("h2"),m.textContent="Planned Features",C=w(),v=p("ul"),v.innerHTML=`<li>- Tabs</li> 
	<li>- Fancy Output (range, toggle buttons)</li> 
	<li>- Interactive input (sliders, radio)</li> 
	<li>- Github Gist intergration</li>`,_(e,"href","https://github.com/LeoDog896/jsnow"),_(n,"class","text-3xl"),_(m,"class","text-xl")},m(a,k){f(a,n,k),b(n,o),b(n,e),A(t,e,null),f(a,i,k),f(a,l,k),f(a,s,k),f(a,c,k),c.innerHTML=x,f(a,u,k),f(a,h,k),f(a,y,k),f(a,L,k),L.innerHTML=E,f(a,$,k),f(a,m,k),f(a,C,k),f(a,v,k),g=!0},p:P,i(a){g||(j(t.$$.fragment,a),g=!0)},o(a){B(t.$$.fragment,a),g=!1},d(a){a&&d(n),T(t),a&&d(i),a&&d(l),a&&d(s),a&&d(c),a&&d(u),a&&d(h),a&&d(y),a&&d(L),a&&d($),a&&d(m),a&&d(C),a&&d(v)}}}function kt(r){function n(o){if(!o)return"";try{return K.highlight(o,K.languages.javascript)}catch{return""}}return[n]}class $t extends V{constructor(n){super();q(this,n,kt,xt,R,{})}}const{document:te}=nt;function ne(r,n,o){const e=r.slice();return e[17]=n[o],e}function re(r,n,o){const e=r.slice();return e[20]=n[o],e}function oe(r,n,o){const e=r.slice();return e[17]=n[o],e}function ie(r,n,o){const e=r.slice();return e[20]=n[o],e}function le(r,n,o){const e=r.slice();return e[14]=n[o],e}function St(r){return{c:P,m:P,p:P,d:P}}function Pt(r){let n;function o(i,l){return i[13]instanceof Error?Ct:i[4]?Et:Lt}let e=o(r),t=e(r);return{c(){n=p("p"),t.c(),_(n,"class","px-1 w-full text-[1rem] leading-[1.4058rem]")},m(i,l){f(i,n,l),t.m(n,null)},p(i,l){e===(e=o(i))&&t?t.p(i,l):(t.d(1),t=e(i),t&&(t.c(),t.m(n,null)))},d(i){i&&d(n),t.d()}}}function Lt(r){let n,o=r[13],e=[];for(let t=0;t<o.length;t+=1)e[t]=ae(ne(r,o,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=U()},m(t,i){for(let l=0;l<e.length;l+=1)e[l].m(t,i);f(t,n,i)},p(t,i){if(i&8){o=t[13];let l;for(l=0;l<o.length;l+=1){const s=ne(t,o,l);e[l]?e[l].p(s,i):(e[l]=ae(s),e[l].c(),e[l].m(n.parentNode,n))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},d(t){I(e,t),t&&d(n)}}}function Et(r){let n,o=r[13].sort(de),e=[];for(let t=0;t<o.length;t+=1)e[t]=ue(oe(r,o,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=U()},m(t,i){for(let l=0;l<e.length;l+=1)e[l].m(t,i);f(t,n,i)},p(t,i){if(i&8){o=t[13].sort(de);let l;for(l=0;l<o.length;l+=1){const s=oe(t,o,l);e[l]?e[l].p(s,i):(e[l]=ue(s),e[l].c(),e[l].m(n.parentNode,n))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},d(t){I(e,t),t&&d(n)}}}function Ct(r){let n,o=r[13].toString().split(`
`),e=[];for(let t=0;t<o.length;t+=1)e[t]=fe(le(r,o,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=U()},m(t,i){for(let l=0;l<e.length;l+=1)e[l].m(t,i);f(t,n,i)},p(t,i){if(i&8){o=t[13].toString().split(`
`);let l;for(l=0;l<o.length;l+=1){const s=le(t,o,l);e[l]?e[l].p(s,i):(e[l]=fe(s),e[l].c(),e[l].m(n.parentNode,n))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},d(t){I(e,t),t&&d(n)}}}function se(r){let n,o=r[20].content+"";return{c(){n=p("span"),S(n,"color",r[20].color)},m(e,t){f(e,n,t),n.innerHTML=o},p(e,t){t&8&&o!==(o=e[20].content+"")&&(n.innerHTML=o),t&8&&S(n,"color",e[20].color)},d(e){e&&d(n)}}}function ae(r){let n,o,e=O(r[17].content),t=[];for(let i=0;i<e.length;i+=1)t[i]=se(re(r,e,i));return{c(){n=p("p");for(let i=0;i<t.length;i+=1)t[i].c();o=w()},m(i,l){f(i,n,l);for(let s=0;s<t.length;s+=1)t[s].m(n,null);b(n,o)},p(i,l){if(l&8){e=O(i[17].content);let s;for(s=0;s<e.length;s+=1){const c=re(i,e,s);t[s]?t[s].p(c,l):(t[s]=se(c),t[s].c(),t[s].m(n,o))}for(;s<t.length;s+=1)t[s].d(1);t.length=e.length}},d(i){i&&d(n),I(t,i)}}}function ce(r){let n,o=r[20].content+"";return{c(){n=p("span"),S(n,"color",r[20].color)},m(e,t){f(e,n,t),n.innerHTML=o},p(e,t){t&8&&o!==(o=e[20].content+"")&&(n.innerHTML=o),t&8&&S(n,"color",e[20].color)},d(e){e&&d(n)}}}function ue(r){let n,o,e=O(r[17].content),t=[];for(let i=0;i<e.length;i+=1)t[i]=ce(ie(r,e,i));return{c(){n=p("p");for(let i=0;i<t.length;i+=1)t[i].c();o=w(),_(n,"class","absolute"),S(n,"top",document.querySelector(".cm-content").children[r[17].lineNumber-1].getBoundingClientRect().y+"px")},m(i,l){f(i,n,l);for(let s=0;s<t.length;s+=1)t[s].m(n,null);b(n,o)},p(i,l){if(l&8){e=O(i[17].content);let s;for(s=0;s<e.length;s+=1){const c=ie(i,e,s);t[s]?t[s].p(c,l):(t[s]=ce(c),t[s].c(),t[s].m(n,o))}for(;s<t.length;s+=1)t[s].d(1);t.length=e.length}l&8&&S(n,"top",document.querySelector(".cm-content").children[i[17].lineNumber-1].getBoundingClientRect().y+"px")},d(i){i&&d(n),I(t,i)}}}function fe(r){let n,o=r[14]+"",e;return{c(){n=p("p"),e=be(o),_(n,"class","text-red-700")},m(t,i){f(t,n,i),b(n,e)},p(t,i){i&8&&o!==(o=t[14]+"")&&ot(e,o)},d(t){t&&d(n)}}}function Nt(r){return{c:P,m:P,p:P,d:P}}function Mt(r){let n,o,e,t,i,l,s,c,x,u,h,y,L,E,$,m,C;o=new Ue({props:{alt:"Settings",class:"scale-125 hover:rotate-12 transition-transform fixed bottom-5 right-5"}}),o.$on("click",r[8]),t=new Qe({props:{alt:"Info",class:"scale-125 hover:rotate-12 transition-transform fixed bottom-5 right-[60px]"}}),t.$on("click",r[9]);let v={ctx:r,current:null,token:null,hasCatch:!1,pending:Nt,then:Pt,catch:St,value:13};return X(E=r[3],v),{c(){n=w(),M(o.$$.fragment),e=w(),M(t.$$.fragment),i=w(),l=p("div"),s=p("div"),c=p("div"),x=w(),u=p("div"),h=w(),y=p("div"),L=w(),v.block.c(),_(c,"class","grow outline-none"),_(c,"data-gramm","false"),_(c,"data-gramm_editor","false"),_(c,"data-enable-grammarly","false"),_(c,"spellcheck","false"),_(u,"class","absolute translate-x-[-50%] w-[2px] cursor-col-resize h-screen bg-grey border-2"),S(u,"left",r[2]+"px"),_(y,"class","absolute px-2 w-[2px] translate-x-[-50%] cursor-col-resize h-screen bg-transparent"),S(y,"left",r[2]+"px"),_(s,"class","flex"),S(l,"grid-template-columns",r[2]+"px "+(window.innerWidth-r[2])+"px"),_(l,"class","gap-0 grid grid-rows-1 grid-cols-2")},m(g,a){f(g,n,a),A(o,g,a),f(g,e,a),A(t,g,a),f(g,i,a),f(g,l,a),b(l,s),b(s,c),r[10](c),b(s,x),b(s,u),b(s,h),b(s,y),b(l,L),v.block.m(l,v.anchor=null),v.mount=()=>l,v.anchor=null,$=!0,m||(C=[W(te.body,"mousemove",r[6]),W(te.body,"mouseup",r[7]),W(y,"mousedown",r[11])],m=!0)},p(g,[a]){r=g,(!$||a&4)&&S(u,"left",r[2]+"px"),(!$||a&4)&&S(y,"left",r[2]+"px"),v.ctx=r,a&8&&E!==(E=r[3])&&X(E,v)||Xe(v,r,a),(!$||a&4)&&S(l,"grid-template-columns",r[2]+"px "+(window.innerWidth-r[2])+"px")},i(g){$||(j(o.$$.fragment,g),j(t.$$.fragment,g),$=!0)},o(g){B(o.$$.fragment,g),B(t.$$.fragment,g),$=!1},d(g){g&&d(n),T(o,g),g&&d(e),T(t,g),g&&d(i),g&&d(l),r[10](null),v.block.d(),v.token=null,v=null,m=!1,Ye(C)}}}const de=(r,n)=>r.lineNumber-n.lineNumber;function At(r,n,o){let e,t,i,l;N(r,F,m=>o(1,e=m)),N(r,Z,m=>o(2,t=m)),N(r,ht,m=>o(3,i=m)),N(r,D,m=>o(4,l=m));const{open:s}=Ze("simple-modal"),c=et.fromClass(class{constructor(){}update(m){m.docChanged&&he.set(m.state.doc.toString())}});let x;tt(()=>new me({state:pe.create({extensions:[ft,c]}),parent:x}));const u=m=>{e&&z(Z,t=m.clientX,t)},h=m=>{z(F,e=!1,e)},y=()=>s(wt),L=()=>s($t);function E(m){rt[m?"unshift":"push"](()=>{x=m,o(0,x)})}return[x,e,t,i,l,s,u,h,y,L,E,()=>{z(F,e=!0,e)}]}class jt extends V{constructor(n){super();q(this,n,At,Mt,R,{})}}function Bt(r){let n,o;return n=new jt({}),{c(){M(n.$$.fragment)},m(e,t){A(n,e,t),o=!0},i(e){o||(j(n.$$.fragment,e),o=!0)},o(e){B(n.$$.fragment,e),o=!1},d(e){T(n,e)}}}function Tt(r){let n,o;return n=new it({props:{transitionBg:r[0],transitionWindow:r[1],$$slots:{default:[Bt]},$$scope:{ctx:r}}}),{c(){M(n.$$.fragment)},m(e,t){A(n,e,t),o=!0},p(e,[t]){const i={};t&4&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){o||(j(n.$$.fragment,e),o=!0)},o(e){B(n.$$.fragment,e),o=!1},d(e){T(n,e)}}}function Ot(r){return[e=>Y(e,{duration:150}),e=>Y(e,{duration:150})]}class Dt extends V{constructor(n){super();q(this,n,Ot,Tt,R,{})}}new Dt({target:document.body});
